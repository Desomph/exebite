@model DailyMenuViewModel

@{
    ViewData["Title"] = "Details";
}
@section scripts{
    <script type="text/javascript">
        $(function () {
            var availableTags = [
                "ActionScript",
                "AppleScript",
                "Asp",
                "BASIC",
                "C",
                "C++",
                "Clojure",
                "COBOL",
                "ColdFusion",
                "Erlang",
                "Fortran",
                "Groovy",
                "Haskell",
                "Java",
                "JavaScript",
                "Lisp",
                "Perl",
                "PHP",
                "Python",
                "Ruby",
                "Scala",
                "Scheme"
            ];
            $("#restaurant").autocomplete({
                // CORS problem
                //source: function (request, response) {
                //    $.ajax({
                //        url: 'http://localhost:29796/api/restaurant/query?Page=1&Size=99',
                //        type: "GET",
                //        dataType: "json",
                //        success: function (data) {
                //            response($.map(data, function (item) {
                //                return item;
                //            }))
                //        },
                //        error: function (response) {
                //            alert(response.responseText);
                //        }
                //    });
                //},
                source: availableTags,
                minLength: 1
            });
        });
    </script>
}
@using Exebite.DomainModel
<h2>Daily menu details</h2>



@using (Html.BeginForm("Details", "DailyMenu", FormMethod.Get))
{

    @*<div class="col-md-6 form-group">
            <div class="row">
                <label>Food Type: </label>
                <input type="text" id="foodType" name="foodType" />
            </div>
            <div class="row">
                <label>Search name: </label>
                <input type="text" id="searchString" name="searchString" />
            </div>
            <input type="submit" id="submitId" value="Filter" />
        </div>*@
    <div class="form-group row">
        <label for="name" class="col-sm-2 col-form-label col-form-label-sm">Name</label>
        <div class="col-sm-10">
            <input type="text" class="form-control form-control-sm" id="name" name="Name" placeholder="Name">
        </div>
    </div>
    <div class="form-group row">
        <label for="type" class="col-sm-2 col-form-label col-form-label-sm">Type</label>
        <div class="col-sm-10">
            <select asp-items="@Html.GetEnumSelectList<FoodType>()" id="type" name="Type" class="form-control">
                <option value="">All types</option>
            </select>
        </div>
    </div>
    <div class="form-group row">
        <label for="name" class="col-sm-2 col-form-label col-form-label-sm">Date</label>
        <div class="col-sm-10">
            <input type="date" class="form-control form-control-sm" id="name" name="Date" placeholder="Date">
        </div>
    </div>
    <div class="form-group row">
        <label for="restaurant" class="col-sm-2 col-form-label col-form-label-sm">Restaurant</label>
        <div class="col-sm-10">
            <input type="text" class="form-control form-control-sm" id="restaurant" name="Restaurant" placeholder="Restaurant">
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <button type="submit" class="btn btn-primary">Search</button>
        </div>
    </div>

    @*<div class="row">
            <div class="col-md-6 form-group">
                <label>Subscribe to:</label>
                <div>
                    @for (var i = 0; i < Model.EmailPromos.Count; i++)
                    {
                        @Html.CheckBoxFor(e => e.EmailPromos[i].IsSubscribed)
                        <span>@Model.EmailPromos[i].Title</span>
                        @Html.HiddenFor(e => e.EmailPromos[i].Id)
                        @Html.HiddenFor(e => e.EmailPromos[i].Title)
                    }
                </div>
            </div>
        </div>*@
    @*<div class="row">
            <div class="col-md-6">
                <h3>Billing Address</h3>
                @Html.EditorFor(x => x.BillingAddress)
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <h3>Mailing Address</h3>
                @Html.EditorFor(x => x.MailingAddress)
                <input type="submit" class="pull-right btn btn-primary" />
            </div>
        </div>*@
}


@*<form asp-controller="DailyMenu" asp-action="Details" method="get">
        <p>
           @Html.DropDownList("foodType",
                Html.GetEnumSelectList<FoodType>(),
                "All types", new { @class = "form-control" })


            <select asp-for="FoodType" asp-items="@Html.GetEnumSelectList<FoodType>()">
                <option value="">All types</option>
            </select>

            Title: <input type="text" name="SearchString">
            <input type="submit" value="Filter" />
        </p>
    </form>*@

<div>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.foods[0].RestaurantId)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.RestaurantId)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.foods[0].Name)
        </dt>

        @foreach (var item in Model.foods)
        {
            <dd>
                @Html.DisplayFor(modelItem => item.Name)
            </dd>
        }
    </dl>
</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model.Id">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
